/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdk-validation-error.js";
import * as models from "../index.js";

/**
 * Prefix with `-` for descending.
 */
export type ListOrdersSortBy = models.V2OrderSortBy;

export type ListOrdersRequest = {
  /**
   * Filter by capacity.
   */
  capacity?: string | undefined;
  side?: models.Side | undefined;
  /**
   * Filter by status (repeatable).
   */
  status?: Array<models.V2OrderStatus> | undefined;
  createdAfter?: number | undefined;
  createdBefore?: number | undefined;
  /**
   * Prefix with `-` for descending.
   */
  sortBy?: models.V2OrderSortBy | undefined;
  limit?: number | undefined;
  /**
   * Set to the response's `cursor` to fetch the next page.
   */
  startingAfter?: string | undefined;
  /**
   * Set to the response's `cursor` to fetch the previous page.
   */
  endingBefore?: string | undefined;
};

export type ListOrdersResponse = {
  result: models.V2ListOrdersResponse;
};

/** @internal */
export type ListOrdersSortBy$Outbound = string;

/** @internal */
export const ListOrdersSortBy$outboundSchema: z.ZodMiniType<
  ListOrdersSortBy$Outbound,
  ListOrdersSortBy
> = models.V2OrderSortBy$outboundSchema;

export function listOrdersSortByToJSON(
  listOrdersSortBy: ListOrdersSortBy,
): string {
  return JSON.stringify(
    ListOrdersSortBy$outboundSchema.parse(listOrdersSortBy),
  );
}

/** @internal */
export type ListOrdersRequest$Outbound = {
  capacity?: string | undefined;
  side?: string | undefined;
  status?: Array<string> | undefined;
  created_after?: number | undefined;
  created_before?: number | undefined;
  sort_by?: string | undefined;
  limit: number;
  starting_after?: string | undefined;
  ending_before?: string | undefined;
};

/** @internal */
export const ListOrdersRequest$outboundSchema: z.ZodMiniType<
  ListOrdersRequest$Outbound,
  ListOrdersRequest
> = z.pipe(
  z.object({
    capacity: z.optional(z.string()),
    side: z.optional(models.Side$outboundSchema),
    status: z.optional(z.array(models.V2OrderStatus$outboundSchema)),
    createdAfter: z.optional(z.int()),
    createdBefore: z.optional(z.int()),
    sortBy: z.optional(models.V2OrderSortBy$outboundSchema),
    limit: z._default(z.int(), 50),
    startingAfter: z.optional(z.string()),
    endingBefore: z.optional(z.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      createdAfter: "created_after",
      createdBefore: "created_before",
      sortBy: "sort_by",
      startingAfter: "starting_after",
      endingBefore: "ending_before",
    });
  }),
);

export function listOrdersRequestToJSON(
  listOrdersRequest: ListOrdersRequest,
): string {
  return JSON.stringify(
    ListOrdersRequest$outboundSchema.parse(listOrdersRequest),
  );
}

/** @internal */
export const ListOrdersResponse$inboundSchema: z.ZodMiniType<
  ListOrdersResponse,
  unknown
> = z.pipe(
  z.object({
    Result: models.V2ListOrdersResponse$inboundSchema,
  }),
  z.transform((v) => {
    return remap$(v, {
      "Result": "result",
    });
  }),
);

export function listOrdersResponseFromJSON(
  jsonString: string,
): SafeParseResult<ListOrdersResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListOrdersResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListOrdersResponse' from JSON`,
  );
}
